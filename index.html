<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  <meta charset="utf-8">
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>CodePen - DecodeMaoTV 2.1.0 Beta4</title>

  <link rel="stylesheet" media="screen" href="https://cpwebassets.codepen.io/assets/fullpage/fullpage-9a6f5ffcc359b81b95df109e4b8ce436f472f4f828fcc75227cd5266125d459b.css" />
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />





  <title>CodePen - DecodeMaoTV 2.1.0 Beta4</title>

  <style>
    html { font-size: 15px; }
    html, body { margin: 0; padding: 0; min-height: 100%; }
    body { height:100%; display: flex; flex-direction: column; }
    .referer-warning {
      background: black;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
      padding: 0.75em;
      color: white;
      text-align: center;
      font-family: 'Lato', 'Lucida Grande', 'Lucida Sans Unicode', Tahoma, system-ui, Sans-Serif;
      line-height: 1.2;
      font-size: 1rem;
      position: relative;
      z-index: 2;
    }
    .referer-warning span { font-family: initial; }
    .referer-warning h1 { font-size: 1.2rem; margin: 0; }
    .referer-warning a { color: #56bcf9; }
  </style>
</head>

<body class="">
  <div class="referer-warning">
    <h1><span>⚠️</span> Do not enter passwords or personal information on this page. <span>⚠️</span></h1>
      This is a code demo posted by a web developer on <a href="https://codepen.io">CodePen</a>.
    <br />
    A referer from CodePen is required to render this page view, and your browser is not sending one (<a href="https://blog.codepen.io/2017/10/05/regarding-referer-headers/" target="_blank" rel="noreferrer noopener">more details</a>).</h1>
  </div>

  <div id="result-iframe-wrap" role="main">
    <iframe
      id="result"
      srcdoc="<!DOCTYPE html>
<html lang=&quot;en&quot; >

<head>
  <meta charset=&quot;UTF-8&quot;>
  

    <link rel=&quot;apple-touch-icon&quot; type=&quot;image/png&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png&quot; />

    <meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;CodePen&quot;>

    <link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico&quot; />

    <link rel=&quot;mask-icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg&quot; color=&quot;#111&quot; />



  
  <title>CodePen - DecodeMaoTV 2.1.0 Beta4</title>
    <link rel=&quot;canonical&quot; href=&quot;https://codepen.io/kensonmiao/pen/eYyLaBO&quot; />
  
  
  
  

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate=&quot;no&quot;>
  CORS Extension is required!!!<br/>
Must allow to load insure content (click the lock on the left of https://cdpn.io, then site settings, then locate &quot;Insecure content&quot; and set to allow) if the link starts with HTTP!!
<hr/>
<input id=&quot;uncodeImgInput&quot; type=&quot;text&quot; value=&quot;&quot; placeholder=&quot;URL&quot; />
		<select id=&quot;encodeSelect&quot;>
			<option value=&quot;0&quot;>UTF8</option>
			<option value=&quot;1&quot;>Latin</option>
			<option value=&quot;2&quot;>Output File</option>
		</select>
<br/><br>
<input id=&quot;pk&quot; type=&quot;text&quot; value=&quot;&quot; placeholder=&quot;Password if applicable&quot; />
<br><br>
		<input type=&quot;button&quot; onclick=&quot;unImg(event)&quot; value=&quot;Convert&quot; />
<br><br>
		<textarea id=&quot;outputStr&quot; style=&quot;width:100%&quot; rows=&quot;20&quot; readonly></textarea>
    <script src=&quot;https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js&quot;></script>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
      <script id=&quot;rendered-js&quot; >
function unImg(evt) {
  $.ajax({
    'url': $(&quot;#uncodeImgInput&quot;).val(),
    'method': 'GET',
    'xhrFields': {
      'responseType': 'arraybuffer' } }).

  done(function (buff) {
    var fileBuf;
    var buffArr = new Uint8ClampedArray(buff);
    var dataStr = arrayBufferToBase64(buffArr);
    var startedPoint = dataStr.indexOf(&quot;**&quot;);
    var fileBase64 = dataStr.substring(startedPoint + 2);
    var bStr = atob(fileBase64);
    fileBuf = _base64ToArrayBuffer(bStr);
    var selectedOpt = parseInt($(&quot;#encodeSelect&quot;).val());
    var txtDecoder = new TextDecoder();

    if (selectedOpt <= 1) {
      var decodedData = selectedOpt == 1 ? bStr : txtDecoder.decode(fileBuf);
      if ($(&quot;#pk&quot;).val().length > 0)
      decodedData = decrypt(decodedData);
      $(&quot;#outputStr&quot;).val(decodedData);
    } else
    {
      var dlBtn = document.createElement('a');
      var dlUrl = URL.createObjectURL(new Blob([fileBuf]));
      dlBtn.href = dlUrl;
      dlBtn.download = dlUrl.split('/').pop();
      document.body.appendChild(dlBtn);
      dlBtn.click();
      document.body.removeChild(dlBtn);
      URL.revokeObjectURL(dlUrl);
    }
  });
}

function _base64ToArrayBuffer(binary_string) {
  var len = binary_string.length;
  var bytes = new Uint8Array(len);
  for (var i = 0; i < len; i++) {if (window.CP.shouldStopExecution(0)) break;
    bytes[i] = binary_string.charCodeAt(i);
  }window.CP.exitedLoop(0);
  return bytes.buffer;
}

function arrayBufferToBase64(buffArr) {
  var binary = '';
  var len = buffArr.byteLength;
  for (var i = 0; i < len; i++) {if (window.CP.shouldStopExecution(1)) break;
    binary += String.fromCharCode(buffArr[i]);
  }window.CP.exitedLoop(1);
  return binary;
}

function decrypt(cryptedData) {
  var cipherParams = CryptoJS.lib.CipherParams.create({
    ciphertext: CryptoJS.enc.Hex.parse(cryptedData) });

  var pkBlocks = CryptoJS.enc.Utf8.parse($(&quot;#pk&quot;).val().padEnd(16, '0'));
  var decryptedData = CryptoJS.enc.Utf8.stringify(
  CryptoJS.AES.decrypt(cipherParams, pkBlocks, {
    'mode': CryptoJS.mode.ECB,
    'padding': CryptoJS.pad.Pkcs7 }));


  return decryptedData;
}
//# sourceURL=pen.js
    </script>

  
</body>

</html>
"
      sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation" allow="accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write" allowTransparency="true"
      allowpaymentrequest="true" allowfullscreen="true" class="result-iframe">
      </iframe>
  </div>

</body>

</html>
